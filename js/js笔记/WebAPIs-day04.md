# WebAPIs-day04

## 日期对象

* 定义：用来表示时间的对象
* 作用：可以得到当前系统的时间

### 实例化

* new => 实例化

* 创建一个事件对象并获取时间

  * 获取当前时间

    ```javascript
    const date = new Date()
    ```

  * 获得指定时间

    ```javascript
    const date = new Date('2008-8-8')
    console.log(date)
    ```

    

### 日期对象方法

使用场景：日期对象返回的数据无法直接使用，需要转换成实际开发中常用的格式

![image-20250406213457351](C:\Users\yhx\AppData\Roaming\Typora\typora-user-images\image-20250406213457351.png)



### 时间戳

* **使用场景：**计算倒计时效果，前面的方法无法直接计算，需要借助时间戳完成

* **是什么：**

  * 1970/01/01 00:00:00起至今的**毫秒数**

* **算法：**

* 将来的时间戳 - 现在的时间戳 = 剩余毫秒数

* 剩余时间毫秒数 转换为 剩余时间的 年月日时分秒 就是 倒计时时间

* 比如 将来时间戳 2000ms - 现在时间戳 1000ms = 1000ms

* 1000ms就是倒计时时间 0小时0分1秒

* **三种方式获取：**

  1.使用 getTime() 方法

  2.简写 +new Date()

  3.使用Date.now()

  * 无需实例化
  * 但是只能得到当前时间戳，而前面的可以获得指定时间戳

### 案例-下班倒计时

注意：

1. 通过时间戳可以获得毫秒
2. 转换公式：
   * d = parseInt(总秒数/60/60/24) // 计算天数
   * h = parseInt(总秒数/60/60 % 24) // 计算小时
   * m = parseint(总秒数/60 % 60) // 计算分数
   * s = parseInt(总秒数 % 60) // 计算当前秒数



### 节点操作

#### DOM节点

![image-20250407132428058](C:\Users\yhx\AppData\Roaming\Typora\typora-user-images\image-20250407132428058.png)

* DOM数的每一个内容都称为节点
* 节点类型
  * **元素节点**
    * 所有的标签 比如body，div
    * html是根节点
  * 属性节点
    * 所有的属性比如href
  * 文本节点
    * 所有的文本
  * 其它

#### 查找节点

* 关闭二维码案例：优化，直接关闭二维码大盒子，通过找x按钮找父节点
* **节点关系：针对的找亲戚返回的都是对象**
  * 父节点
  * 子节点
  * 兄弟节点

* **父节点查找**：

  * parentNode属性

  * 返回最近一级的父节点 找不到返回null

    ```javascript
    子节点.parentNode
    ```

* **子节点查找：**

  * childNodes

    * 获得所有子节点，包括文本节点（空格，换行），注释节点等

  * **children属性（点）**

    * 只获得所有元素节点
    * 返回的是一个伪数组

    ```javascript
    父元素.children
    ```

* **兄弟节点查找：**

  1. 下一个兄弟查找
     * nextElementSibling属性

  2. 上一个兄弟节点
     * previousElementSibling属性

#### **增加节点**

* 很多清空，需要在页面添加元素

  * 比如发布按钮，可以新增信息

* 一般情况，新增节点需要以下操作：

  * **创建**一个新的节点
  * 把创建的节点**放入**指定的元素内部

* **1.创建节点**

* 创造一个新的网页元素，再添加到网页中，一般先**创建**节点，然后**插入**节点

* 创建元素节点方法：

  ```javascript
  // 创建一个新的元素节点
  document.createElement('标签名')
  ```

* **2.追加节点**

* 要想在界面中看到，需要插入到某个父元素中

* 插入到父元素的**最后**一个子元素

  ```javascript
  // 插入到这个父元素的最后
  父元素.appendChild(要插入的元素)
  ```

* 插入到父元素中**某个子元素的前面**

  ```javascript
  // 插入到某个子元素的前面
  父元素.insertBefore(要插入的元素，在哪个元素前面)
  ```

  

* **案例-学成在线数据渲染**



* **克隆节点**，复制一个已经存在的节点

* 克隆节点

  ```javascript
  // 克隆一个已有的元素节点
  元素.cloneNode(布尔值)
  ```

* true，克隆包含后代节点

* false，克隆不包含后代节点，**只包含标签**

* 默认是false



#### 删除节点

* 若一个节点在页面中已不需要时，可以删除它

* 在JavaScript原生DOM操作中，要删除元素必须通过**父元素删除**

* 语法：

  `父元素.removeChild(要删除的子元素)`

* 注意：

  * 如不存在父子关系则删除不成功
  * 删除节点和隐藏节点（display:none）有区别的：隐藏节点还是存在的，但是删除，则从html中删除节点



### M端事件

移动端也有自己独特的地方。比如触屏事件touch（也称触摸事件），Android和IOS都有。

* 触屏事件 touch（也称触摸事件），Android 和 IOS 都有。

* 也可能是一根触摸笔。触屏事件可响应用户手指（或触控笔）对屏幕或者触控板操作。

* 常见触屏事件如下：

  ![image-20250407181845454](C:\Users\yhx\AppData\Roaming\Typora\typora-user-images\image-20250407181845454.png)

  

### JS插件

#### swiper插件

* 插件：就是别人写好的一些代码，我们只需要复制对应的代码，就可以直接实现对应的效果
* 学习插件的基本过程

* 熟悉官网,了解这个插件可以完成什么需求     https://www.swiper.com.cn/
* 看在线演示,找到符合自己需求的demo    https://www.swiper.com.cn/demo/index.html
* 查看基本使用流程    https://www.swiper.com.cn/usage/index.html
* 查看APi文档,去配置自己的插件    https://www.swiper.com.cn/api/index.html
* 注意:多个swiper同时使用的时候,类名需要注意区分

### 学生信息表案例

通过数组增删模拟元素增删不断，每次删除重新加载原来的数据
